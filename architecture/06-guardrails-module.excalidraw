{
  "type": "excalidraw",
  "version": 2,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "id": "title",
      "type": "text",
      "x": 300,
      "y": 20,
      "width": 350,
      "height": 35,
      "text": "Guardrails Module (src/guardrails/)",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#1e1e1e"
    },
    {
      "id": "dual-layer",
      "type": "text",
      "x": 350,
      "y": 65,
      "width": 250,
      "height": 25,
      "text": "Dual-Layer Security Architecture",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#f03e3e"
    },
    {
      "id": "nemo-layer",
      "type": "rectangle",
      "x": 100,
      "y": 110,
      "width": 350,
      "height": 200,
      "strokeColor": "#1971c2",
      "backgroundColor": "#d0ebff",
      "fillStyle": "solid",
      "strokeWidth": 3,
      "roughness": 1
    },
    {
      "id": "nemo-title",
      "type": "text",
      "x": 180,
      "y": 120,
      "width": 190,
      "height": 30,
      "text": "NeMo Guardrails\n(Primary - if installed)",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#1971c2"
    },
    {
      "id": "nemo-features",
      "type": "text",
      "x": 120,
      "y": 160,
      "width": 310,
      "height": 140,
      "text": "Full LLM-based guardrails\nCustom action registration\nConfig-driven rules (YAML)\nInput/Output rails\nAdvanced jailbreak detection\nContext-aware filtering",
      "fontSize": 13,
      "fontFamily": 1,
      "textAlign": "left",
      "strokeColor": "#1971c2"
    },
    {
      "id": "lightweight-layer",
      "type": "rectangle",
      "x": 500,
      "y": 110,
      "width": 350,
      "height": 200,
      "strokeColor": "#e67700",
      "backgroundColor": "#fff3bf",
      "fillStyle": "solid",
      "strokeWidth": 3,
      "roughness": 1
    },
    {
      "id": "lightweight-title",
      "type": "text",
      "x": 560,
      "y": 120,
      "width": 230,
      "height": 30,
      "text": "Lightweight Fallback\n(Always available)",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#e67700"
    },
    {
      "id": "lightweight-features",
      "type": "text",
      "x": 520,
      "y": 160,
      "width": 310,
      "height": 140,
      "text": "Jailbreak pattern detection\nCommand injection prevention\nPath traversal blocking\nSecret pattern redaction\nPII masking\nNo external dependencies",
      "fontSize": 13,
      "fontFamily": 1,
      "textAlign": "left",
      "strokeColor": "#e67700"
    },
    {
      "id": "arrow-fallback",
      "type": "arrow",
      "x": 450,
      "y": 210,
      "width": 50,
      "height": 0,
      "strokeColor": "#868e96",
      "strokeWidth": 2,
      "points": [[0, 0], [50, 0]],
      "endArrowhead": "arrow"
    },
    {
      "id": "fallback-label",
      "type": "text",
      "x": 455,
      "y": 190,
      "width": 40,
      "height": 15,
      "text": "Fallback",
      "fontSize": 10,
      "fontFamily": 1,
      "strokeColor": "#868e96"
    },
    {
      "id": "flow-title",
      "type": "text",
      "x": 400,
      "y": 340,
      "width": 150,
      "height": 25,
      "text": "Processing Flow",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#495057"
    },
    {
      "id": "input-box",
      "type": "rectangle",
      "x": 100,
      "y": 380,
      "width": 150,
      "height": 60,
      "strokeColor": "#9c36b5",
      "backgroundColor": "#eebefa",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "input-text",
      "type": "text",
      "x": 125,
      "y": 395,
      "width": 100,
      "height": 30,
      "text": "User Input\n(Message)",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#9c36b5"
    },
    {
      "id": "arrow1",
      "type": "arrow",
      "x": 250,
      "y": 410,
      "width": 60,
      "height": 0,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 2,
      "points": [[0, 0], [60, 0]],
      "endArrowhead": "arrow"
    },
    {
      "id": "input-check",
      "type": "rectangle",
      "x": 310,
      "y": 370,
      "width": 180,
      "height": 80,
      "strokeColor": "#f03e3e",
      "backgroundColor": "#ffe3e3",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "input-check-text",
      "type": "text",
      "x": 330,
      "y": 385,
      "width": 140,
      "height": 50,
      "text": "check_input()\nJailbreak Detection\nInjection Check",
      "fontSize": 12,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#f03e3e"
    },
    {
      "id": "arrow2",
      "type": "arrow",
      "x": 490,
      "y": 410,
      "width": 60,
      "height": 0,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 2,
      "points": [[0, 0], [60, 0]],
      "endArrowhead": "arrow"
    },
    {
      "id": "safe-check",
      "type": "diamond",
      "x": 550,
      "y": 375,
      "width": 100,
      "height": 70,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "safe-check-text",
      "type": "text",
      "x": 575,
      "y": 398,
      "width": 50,
      "height": 24,
      "text": "Safe?",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#2f9e44"
    },
    {
      "id": "arrow-yes",
      "type": "arrow",
      "x": 650,
      "y": 410,
      "width": 60,
      "height": 0,
      "strokeColor": "#2f9e44",
      "strokeWidth": 2,
      "points": [[0, 0], [60, 0]],
      "endArrowhead": "arrow"
    },
    {
      "id": "agent-box",
      "type": "rectangle",
      "x": 710,
      "y": 380,
      "width": 150,
      "height": 60,
      "strokeColor": "#1971c2",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "agent-text",
      "type": "text",
      "x": 740,
      "y": 395,
      "width": 90,
      "height": 30,
      "text": "Agent\nProcessing",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#1971c2"
    },
    {
      "id": "arrow-no",
      "type": "arrow",
      "x": 600,
      "y": 445,
      "width": 0,
      "height": 40,
      "strokeColor": "#f03e3e",
      "strokeWidth": 2,
      "points": [[0, 0], [0, 40]],
      "endArrowhead": "arrow"
    },
    {
      "id": "blocked-box",
      "type": "rectangle",
      "x": 525,
      "y": 485,
      "width": 150,
      "height": 50,
      "strokeColor": "#c92a2a",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "blocked-text",
      "type": "text",
      "x": 545,
      "y": 498,
      "width": 110,
      "height": 24,
      "text": "BLOCKED",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#c92a2a"
    },
    {
      "id": "arrow-to-output",
      "type": "arrow",
      "x": 785,
      "y": 440,
      "width": 0,
      "height": 40,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 2,
      "points": [[0, 0], [0, 40]],
      "endArrowhead": "arrow"
    },
    {
      "id": "output-check",
      "type": "rectangle",
      "x": 710,
      "y": 480,
      "width": 150,
      "height": 70,
      "strokeColor": "#e67700",
      "backgroundColor": "#fff3bf",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "output-check-text",
      "type": "text",
      "x": 725,
      "y": 495,
      "width": 120,
      "height": 40,
      "text": "process_output()\nRedact Secrets\nFilter PII",
      "fontSize": 12,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#e67700"
    },
    {
      "id": "arrow-to-response",
      "type": "arrow",
      "x": 785,
      "y": 550,
      "width": 0,
      "height": 40,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 2,
      "points": [[0, 0], [0, 40]],
      "endArrowhead": "arrow"
    },
    {
      "id": "response-box",
      "type": "rectangle",
      "x": 710,
      "y": 590,
      "width": 150,
      "height": 50,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "response-text",
      "type": "text",
      "x": 735,
      "y": 603,
      "width": 100,
      "height": 24,
      "text": "Safe Response",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#2f9e44"
    },
    {
      "id": "patterns-title",
      "type": "text",
      "x": 180,
      "y": 490,
      "width": 150,
      "height": 25,
      "text": "Detection Patterns",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#495057"
    },
    {
      "id": "patterns-box",
      "type": "rectangle",
      "x": 100,
      "y": 520,
      "width": 300,
      "height": 180,
      "strokeColor": "#495057",
      "backgroundColor": "#f8f9fa",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "jailbreak-patterns",
      "type": "text",
      "x": 120,
      "y": 540,
      "width": 260,
      "height": 150,
      "text": "Jailbreak Patterns:\n- \"ignore previous instructions\"\n- \"pretend you are\"\n- \"bypass safety\"\n\nBlocked Commands:\n- rm -rf /, del /f /s\n- DROP TABLE, TRUNCATE\n\nPath Traversal:\n- ../, %2e%2e, /etc/passwd",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "left",
      "strokeColor": "#495057"
    },
    {
      "id": "secrets-title",
      "type": "text",
      "x": 600,
      "y": 670,
      "width": 150,
      "height": 25,
      "text": "Secret Patterns",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#495057"
    },
    {
      "id": "secrets-box",
      "type": "rectangle",
      "x": 500,
      "y": 700,
      "width": 350,
      "height": 100,
      "strokeColor": "#f03e3e",
      "backgroundColor": "#fff5f5",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "secrets-patterns",
      "type": "text",
      "x": 520,
      "y": 715,
      "width": 310,
      "height": 75,
      "text": "sk-[a-zA-Z0-9]{48}  -> [REDACTED_API_KEY]\nAKIA[A-Z0-9]{16}    -> [REDACTED_AWS_KEY]\npassword=[\"'][^\"']+  -> password=[REDACTED]\nBearer [A-Za-z0-9\\-\\._~\\+\\/]+ -> Bearer [REDACTED]",
      "fontSize": 10,
      "fontFamily": 3,
      "textAlign": "left",
      "strokeColor": "#f03e3e"
    }
  ],
  "appState": {
    "gridSize": null,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}
