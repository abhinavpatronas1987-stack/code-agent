{
  "type": "excalidraw",
  "version": 2,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "id": "title",
      "type": "text",
      "x": 280,
      "y": 20,
      "width": 350,
      "height": 35,
      "text": "API Server Module (src/api/server.py)",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#1e1e1e"
    },
    {
      "id": "fastapi-box",
      "type": "rectangle",
      "x": 350,
      "y": 80,
      "width": 200,
      "height": 60,
      "strokeColor": "#1971c2",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "fastapi-text",
      "type": "text",
      "x": 380,
      "y": 95,
      "width": 140,
      "height": 30,
      "text": "FastAPI App\nLifespan Manager",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#1971c2"
    },
    {
      "id": "cors-box",
      "type": "rectangle",
      "x": 600,
      "y": 85,
      "width": 140,
      "height": 50,
      "strokeColor": "#e67700",
      "backgroundColor": "#fff3bf",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "cors-text",
      "type": "text",
      "x": 620,
      "y": 100,
      "width": 100,
      "height": 20,
      "text": "CORS Middleware",
      "fontSize": 12,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#e67700"
    },
    {
      "id": "arrow-cors",
      "type": "arrow",
      "x": 550,
      "y": 110,
      "width": 50,
      "height": 0,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 2,
      "points": [[0, 0], [50, 0]],
      "endArrowhead": "arrow"
    },
    {
      "id": "sessions-store",
      "type": "rectangle",
      "x": 160,
      "y": 85,
      "width": 140,
      "height": 50,
      "strokeColor": "#9c36b5",
      "backgroundColor": "#eebefa",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "sessions-text",
      "type": "text",
      "x": 175,
      "y": 95,
      "width": 110,
      "height": 30,
      "text": "Sessions Store\ndict[str, Agent]",
      "fontSize": 12,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#9c36b5"
    },
    {
      "id": "arrow-sessions",
      "type": "arrow",
      "x": 300,
      "y": 110,
      "width": 50,
      "height": 0,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 2,
      "points": [[0, 0], [50, 0]],
      "endArrowhead": "arrow"
    },
    {
      "id": "endpoints-title",
      "type": "text",
      "x": 380,
      "y": 170,
      "width": 140,
      "height": 25,
      "text": "REST Endpoints",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#495057"
    },
    {
      "id": "arrow-to-endpoints",
      "type": "arrow",
      "x": 450,
      "y": 140,
      "width": 0,
      "height": 30,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 2,
      "points": [[0, 0], [0, 30]],
      "endArrowhead": "arrow"
    },
    {
      "id": "endpoint-root",
      "type": "rectangle",
      "x": 100,
      "y": 210,
      "width": 120,
      "height": 50,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "endpoint-root-text",
      "type": "text",
      "x": 115,
      "y": 220,
      "width": 90,
      "height": 30,
      "text": "GET /\nRoot Info",
      "fontSize": 12,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#2f9e44"
    },
    {
      "id": "endpoint-health",
      "type": "rectangle",
      "x": 240,
      "y": 210,
      "width": 120,
      "height": 50,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "endpoint-health-text",
      "type": "text",
      "x": 255,
      "y": 220,
      "width": 90,
      "height": 30,
      "text": "GET /health\nHealth Check",
      "fontSize": 12,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#2f9e44"
    },
    {
      "id": "endpoint-chat",
      "type": "rectangle",
      "x": 380,
      "y": 210,
      "width": 140,
      "height": 50,
      "strokeColor": "#1971c2",
      "backgroundColor": "#d0ebff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "endpoint-chat-text",
      "type": "text",
      "x": 395,
      "y": 220,
      "width": 110,
      "height": 30,
      "text": "POST /chat\nSync Message",
      "fontSize": 12,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#1971c2"
    },
    {
      "id": "endpoint-sessions",
      "type": "rectangle",
      "x": 540,
      "y": 210,
      "width": 140,
      "height": 50,
      "strokeColor": "#9c36b5",
      "backgroundColor": "#eebefa",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "endpoint-sessions-text",
      "type": "text",
      "x": 555,
      "y": 220,
      "width": 110,
      "height": 30,
      "text": "POST /sessions\nCreate Session",
      "fontSize": 12,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#9c36b5"
    },
    {
      "id": "endpoint-get-session",
      "type": "rectangle",
      "x": 700,
      "y": 210,
      "width": 140,
      "height": 50,
      "strokeColor": "#9c36b5",
      "backgroundColor": "#eebefa",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "endpoint-get-session-text",
      "type": "text",
      "x": 715,
      "y": 220,
      "width": 110,
      "height": 30,
      "text": "GET /sessions/{id}\nGet Session",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#9c36b5"
    },
    {
      "id": "endpoint-delete-session",
      "type": "rectangle",
      "x": 100,
      "y": 280,
      "width": 140,
      "height": 50,
      "strokeColor": "#f03e3e",
      "backgroundColor": "#ffe3e3",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "endpoint-delete-session-text",
      "type": "text",
      "x": 110,
      "y": 290,
      "width": 120,
      "height": 30,
      "text": "DELETE /sessions\nDelete Session",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#f03e3e"
    },
    {
      "id": "endpoint-history",
      "type": "rectangle",
      "x": 260,
      "y": 280,
      "width": 160,
      "height": 50,
      "strokeColor": "#e67700",
      "backgroundColor": "#fff3bf",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "endpoint-history-text",
      "type": "text",
      "x": 275,
      "y": 290,
      "width": 130,
      "height": 30,
      "text": "GET /sessions/{id}\n/history",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#e67700"
    },
    {
      "id": "endpoint-clear-history",
      "type": "rectangle",
      "x": 440,
      "y": 280,
      "width": 160,
      "height": 50,
      "strokeColor": "#f03e3e",
      "backgroundColor": "#ffe3e3",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "endpoint-clear-history-text",
      "type": "text",
      "x": 455,
      "y": 290,
      "width": 130,
      "height": 30,
      "text": "DELETE /sessions\n/{id}/history",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#f03e3e"
    },
    {
      "id": "websocket-title",
      "type": "text",
      "x": 350,
      "y": 370,
      "width": 200,
      "height": 25,
      "text": "WebSocket Endpoint",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#495057"
    },
    {
      "id": "websocket-box",
      "type": "rectangle",
      "x": 300,
      "y": 400,
      "width": 300,
      "height": 80,
      "strokeColor": "#1971c2",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 3,
      "roughness": 1
    },
    {
      "id": "websocket-text",
      "type": "text",
      "x": 350,
      "y": 415,
      "width": 200,
      "height": 50,
      "text": "WS /ws/{session_id}\nReal-time Streaming\nBidirectional Communication",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#1971c2"
    },
    {
      "id": "protocol-title",
      "type": "text",
      "x": 360,
      "y": 500,
      "width": 180,
      "height": 20,
      "text": "WebSocket Protocol",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#495057"
    },
    {
      "id": "client-box",
      "type": "rectangle",
      "x": 100,
      "y": 530,
      "width": 200,
      "height": 150,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#d8f5a2",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "client-title",
      "type": "text",
      "x": 150,
      "y": 540,
      "width": 100,
      "height": 20,
      "text": "Client Sends",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#2f9e44"
    },
    {
      "id": "client-messages",
      "type": "text",
      "x": 115,
      "y": 565,
      "width": 170,
      "height": 100,
      "text": "{type: \"message\",\n content: \"...\",\n workspace: \"...\"}\n\n{type: \"ping\"}\n{type: \"clear_history\"}",
      "fontSize": 11,
      "fontFamily": 3,
      "textAlign": "left",
      "strokeColor": "#2f9e44"
    },
    {
      "id": "server-box",
      "type": "rectangle",
      "x": 600,
      "y": 530,
      "width": 200,
      "height": 150,
      "strokeColor": "#1971c2",
      "backgroundColor": "#d0ebff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "server-title",
      "type": "text",
      "x": 650,
      "y": 540,
      "width": 100,
      "height": 20,
      "text": "Server Sends",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#1971c2"
    },
    {
      "id": "server-messages",
      "type": "text",
      "x": 615,
      "y": 565,
      "width": 170,
      "height": 100,
      "text": "{type: \"chunk\", content}\n{type: \"tool_call\",\n name, args}\n{type: \"done\"}\n{type: \"error\", message}\n{type: \"pong\"}",
      "fontSize": 11,
      "fontFamily": 3,
      "textAlign": "left",
      "strokeColor": "#1971c2"
    },
    {
      "id": "arrow-client-server",
      "type": "arrow",
      "x": 300,
      "y": 605,
      "width": 300,
      "height": 0,
      "strokeColor": "#495057",
      "strokeWidth": 2,
      "points": [[0, 0], [300, 0]],
      "startArrowhead": "arrow",
      "endArrowhead": "arrow"
    },
    {
      "id": "flow-title",
      "type": "text",
      "x": 350,
      "y": 710,
      "width": 200,
      "height": 25,
      "text": "Request Flow",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#495057"
    },
    {
      "id": "flow-step1",
      "type": "rectangle",
      "x": 100,
      "y": 750,
      "width": 130,
      "height": 50,
      "strokeColor": "#9c36b5",
      "backgroundColor": "#eebefa",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "flow-step1-text",
      "type": "text",
      "x": 115,
      "y": 760,
      "width": 100,
      "height": 30,
      "text": "1. Receive\nRequest/WS",
      "fontSize": 12,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#9c36b5"
    },
    {
      "id": "flow-arrow1",
      "type": "arrow",
      "x": 230,
      "y": 775,
      "width": 40,
      "height": 0,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 2,
      "points": [[0, 0], [40, 0]],
      "endArrowhead": "arrow"
    },
    {
      "id": "flow-step2",
      "type": "rectangle",
      "x": 270,
      "y": 750,
      "width": 130,
      "height": 50,
      "strokeColor": "#e67700",
      "backgroundColor": "#fff3bf",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "flow-step2-text",
      "type": "text",
      "x": 285,
      "y": 760,
      "width": 100,
      "height": 30,
      "text": "2. Get/Create\nSession",
      "fontSize": 12,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#e67700"
    },
    {
      "id": "flow-arrow2",
      "type": "arrow",
      "x": 400,
      "y": 775,
      "width": 40,
      "height": 0,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 2,
      "points": [[0, 0], [40, 0]],
      "endArrowhead": "arrow"
    },
    {
      "id": "flow-step3",
      "type": "rectangle",
      "x": 440,
      "y": 750,
      "width": 130,
      "height": 50,
      "strokeColor": "#1971c2",
      "backgroundColor": "#d0ebff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "flow-step3-text",
      "type": "text",
      "x": 455,
      "y": 760,
      "width": 100,
      "height": 30,
      "text": "3. Agent\nrun(message)",
      "fontSize": 12,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#1971c2"
    },
    {
      "id": "flow-arrow3",
      "type": "arrow",
      "x": 570,
      "y": 775,
      "width": 40,
      "height": 0,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 2,
      "points": [[0, 0], [40, 0]],
      "endArrowhead": "arrow"
    },
    {
      "id": "flow-step4",
      "type": "rectangle",
      "x": 610,
      "y": 750,
      "width": 130,
      "height": 50,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "flow-step4-text",
      "type": "text",
      "x": 625,
      "y": 760,
      "width": 100,
      "height": 30,
      "text": "4. Stream\nResponse",
      "fontSize": 12,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#2f9e44"
    }
  ],
  "appState": {
    "gridSize": null,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}
